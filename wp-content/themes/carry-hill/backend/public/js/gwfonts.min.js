/*! 28-01-2014 by krivinarius@gmail.com */
!function(a,b,c){function d(b,c){this.element=b,this.$element=a(b),this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.fontsArr=[],this.$select=null,this.$sampleText=null,this.$fontVariantSelect=null,this.$fontSize=null,this.currentFont=null,this.currentFontId=0,this.init()}var e="GWF",f={useSampleText:!0,useFontVariant:!1,sampleTextText:"Sample Text",selectName:"gwf-select"};d.prototype.init=function(){this.googleJs(),this.html()},d.prototype.googleJs=function(){b.WebFontConfig={google:{families:[]}};var a=c.createElement("script");a.src=("https:"==c.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",a.type="text/javascript",a.async="true";var d=c.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)},d.prototype.html=function(){var c=this;this.options.useSampleText&&(this.$element.wrap("<div></div>"),this.$sampleText=a('<span class="gwf-sample-text">'+this.options.sampleTextText+"</span>"),this.$element.parent().append(this.$sampleText)),this.onChangeSelect(),b.setTimeout(function(){c.$element.trigger("change")},2e3)},d.prototype.onChangeSelect=function(){var c=this;this.$element.on("change",function(){var d=a(this).val();b.WebFontConfig.google.families=[],b.WebFontConfig.google.families.push(d),"default"!==d?b.WebFont.load({google:b.WebFontConfig.google,fontactive:function(){c.$sampleText.show().css({fontFamily:d})},fontinactive:function(a){alert("font "+a+" failed to load")}}):c.$sampleText.hide()})},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))})}}(jQuery,window,document);